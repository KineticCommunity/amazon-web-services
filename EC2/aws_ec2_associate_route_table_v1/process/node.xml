<?xml version="1.0" encoding="UTF-8"?>
<taskDefinition id="aws_ec2_associate_route_table" name="AWS EC2 Associate Route Table to a Subnet" schema_version="1.0" version="1">
    <author>support@kineticdata.com</author>
    <description>Associates a subnet with a route table. The subnet and route must be in the same VPC. This association causes traffic originating from the subnet to be routed according to the routes in the route table. A route can be associated with multiple subnets. For more information see the AWS Amazon Virtual Private Cloud User Guide online.</description>
    <helpurl></helpurl>
    <visible>true</visible>
    <deferrable>false</deferrable>
    <parameters>
        <parameter id="dry_run" label="Dry Run" required="true"
            tooltip="true or false. Dry run validates user permissions. Error response will be 'DryRunOperation' if the account has the proper permissions; 'UnauthorizedOperation' if the account does not have the proper permissions.">false</parameter>
        <parameter id="subnet_id" label="Subnet ID" required="true"
            tooltip="The ID of the subnet to which the route table will connect. Must match an existing value in AWS." />
        <parameter id="route_table_id" label="Route Table ID" required="true"
            tooltip="The ID of the route table to connect to the subnet. Must match an existing value in AWS." />
    </parameters>
    <handler name="aws_ec2_associate_route_table" version="1">
        <infos>
            <info name="access_key_id">&lt;%= @info['access_key_id'] %&gt;</info>
            <info name="secret_access_key">&lt;%= @info['secret_access_key'] %&gt;</info>
            <info name="region">&lt;%= @info['region'] %&gt;</info>
            <info name="enable_debug_logging">&lt;%= @info['enable_debug_logging'] %&gt;</info>
        </infos>
        <parameters>
            <parameter name='dry_run'>&lt;%= @parameters['dry_run'] %&gt;</parameter>
            <parameter name='subnet_id'>&lt;%= @parameters['subnet_id'] %&gt;</parameter>
            <parameter name='route_table_id'>&lt;%= @parameters['route_table_id'] %&gt;</parameter>
        </parameters>
    </handler>
    <results format="xml">
        <result name="association_id"/>
    </results>
</taskDefinition>
